<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dcard 文章生成器</title>
    <link rel="stylesheet" href="popup.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">📝</span>
                <h1>Dcard 文章生成器</h1>
            </div>
            <div class="header-right">
                <div class="badge" id="productCount">0</div>
                <button class="auth-status-btn" id="authStatusBtn" title="帳號"></button>
            </div>
        </header>

        <!-- Login Section -->
        <div class="login-section" id="loginSection" style="display: none;">
            <div class="login-card">
                <span class="login-icon">🔐</span>
                <p class="login-title">登入後才能同步商品</p>
                <input type="text" class="login-input" id="loginUsername" placeholder="帳號" autocomplete="username">
                <input type="password" class="login-input" id="loginPassword" placeholder="密碼" autocomplete="current-password">
                <div class="login-error" id="loginError"></div>
                <button class="btn btn-primary login-btn" id="loginBtn">登入</button>
                <small class="login-hint">使用 Web UI 的帳號密碼</small>
            </div>
        </div>

        <!-- Main Content (需登入後顯示) -->
        <div id="mainContent" style="display: none;">
            <!-- Capture Button -->
            <div class="capture-section">
                <button class="btn btn-capture" id="captureBtn">
                    <span class="btn-icon">📸</span>
                    擷取當前商品
                </button>
                <div class="capture-hint" id="captureHint">在蝦皮商品頁面點擊擷取</div>
            </div>

            <!-- Product List -->
            <div class="product-list" id="productList">
                <div class="empty-state">
                    <span class="empty-icon">📦</span>
                    <p>尚未擷取任何商品</p>
                    <small>前往蝦皮商品頁面點擊擷取</small>
                </div>
            </div>

            <!-- Actions -->
            <div class="actions">
                <button class="btn btn-secondary" id="clearBtn">
                    <span class="btn-icon">🗑️</span>
                    清除全部
                </button>
                <button class="btn btn-primary" id="syncBtn">
                    <span class="btn-icon">🔄</span>
                    同步到後端
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="api-toggle">
                <span class="api-label" id="apiLabel">☁️ 雲端</span>
                <label class="switch">
                    <input type="checkbox" id="apiSwitch">
                    <span class="slider"></span>
                </label>
                <span class="api-label" id="apiLabelRight">🖥️ 本地</span>
            </div>
            <small id="webUiLink">💡 Web UI: <a href="https://dcard-auto.web.app" target="_blank" style="color: #3B82F6;">dcard-auto.web.app</a></small>
            <div class="footer-version">
                <span id="versionText"></span>
                <a href="https://drive.google.com/drive/folders/1s78EbuUgRMUiCdg5U1wByqgKqWU5u9Ok?usp=sharing" target="_blank" class="update-link">📥 下載最新版</a>
            </div>
        </footer>
    </div>

    <script src="popup.js"></script>
</body>

</html>
